 - name: 编译固件
      id: compile
      run: |
        cd openwrt
        echo -e "$(nproc) thread compile"
        
        # 尝试正常编译
        if ! make -j$(nproc); then
          echo "编译失败，尝试重新编译出错的包: package/mtk/drivers/warp"
          
          # 方法1：先清理并单独编译出错的包，输出详细日志
          echo "=== 开始单独编译 package/mtk/drivers/warp ==="
          make package/mtk/drivers/warp/clean V=s
          make package/mtk/drivers/warp/compile V=s 2>&1 | tee warp_compile.log
